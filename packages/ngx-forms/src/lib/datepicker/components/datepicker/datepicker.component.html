<div aria-haspopup="grid" auiFlyout class="aui-datepicker a-input has-icon-right">
  <label class="a-input__label" for="{{ id }}" *ngIf="label">{{ label }}</label>
  <small class="a-input__description" *ngIf="description"> {{ description }}</small>
  <div class="a-input__wrapper">
    <input
      (blur)="handleBlur($event)"
      [attr.disabled]="isDisabled ? true : null"
      [autocomplete]="autocomplete"
      [formControl]="formControl"
      id="{{ id }}"
      label="Pick date"
      description="Description"
      name="{{ name }}"
      placeholder="{{ placeholder }}"
      type="text"
    />
    <ng-container *ngIf="isDisabled">
      <aui-icon
        name="ai-calendar"
      />
    </ng-container>
    <ng-container *ngIf="!isDisabled">
      <aui-icon
        auiFlyoutAction
        [openOnFocus]="false"
        name="ai-calendar"
        className="is-clickable"
        role="button"
        [attr.aria-label]="ariaOpenDatepickerLabel"
        tabindex="0"
      />
    </ng-container>

    <ng-container *ngIf="!isDisabled">
      <div auiFlyoutZone class="m-datepicker m-datepicker--fixed" role="dialog">
        <aui-calendar
          (selectDate)="selectDateFromCalendar($event)"
          [range]="range"
          [selectedDate]="selectedDate"
          [interval]="interval"
          [weekdayLabels]="weekdayLabels"
          [monthLabels]="monthLabels"
        ></aui-calendar>
      </div>
    </ng-container>
  </div>
</div>
